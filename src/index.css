@import "tailwindcss";

:root {
  &.dark {
    color-scheme: dark;
  }

  &.light {
    color-scheme: light;
  }
}

@theme inline {
  --font-sans: "Ubuntu";
  --font-heading: "Rubik";

  --color-background: light-dark(
    color-mix(in srgb, theme(colors.zinc.50) 50%, theme(colors.white) 50%),
    theme(colors.neutral.950)
  );
  --color-foreground: light-dark(
    theme(colors.zinc.900),
    theme(colors.zinc.200)
  );
  --color-neutral-bg: light-dark(
    color-mix(in srgb, theme(colors.zinc.100) 50%, theme(colors.zinc.200) 50%),
    theme(colors.zinc.700)
  );
  --color-neutral-selected-bg: light-dark(
    theme(colors.zinc.100),
    color-mix(in srgb, theme(colors.zinc.700) 50%, theme(colors.zinc.800) 50%)
  );
  --color-neutral-fg: light-dark(
    theme(colors.zinc.900),
    theme(colors.zinc.200)
  );
  --color-border: light-dark(theme(colors.stone.300), theme(colors.zinc.800));
  --color-border-strong: light-dark(
    theme(colors.zinc.300),
    theme(colors.zinc.600)
  );
  --color-surface: light-dark(theme(colors.white), theme(colors.zinc.900));
  --color-placeholder: light-dark(
    theme(colors.zinc.400),
    theme(colors.zinc.500)
  );
  --color-focus: theme(colors.zinc.500);

  --color-button-primary-bg: light-dark(
    theme(colors.zinc.700),
    theme(colors.zinc.300)
  );
  --color-button-primary-bg-hover: light-dark(
    theme(colors.zinc.900),
    theme(colors.zinc.200)
  );
  --color-button-primary-fg: light-dark(
    theme(colors.white),
    theme(colors.zinc.800)
  );
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--color-background);
  color: var(--color-foreground);
  font-family: var(--font-sans), system-ui, sans-serif;
}

/* Beveled 3D swap button (gradient + pressed state from original .swap-btn) */
/* Two-phase entity entrance: space opens, then content fades in */
@keyframes entity-slide-open {
  from {
    grid-template-rows: 0fr;
  }
  to {
    grid-template-rows: 1fr;
  }
}

@keyframes entity-fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.entity-enter {
  display: grid;
  animation: entity-slide-open 0.5s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.entity-enter > * {
  overflow: hidden;
  min-height: 0;
  animation: entity-fade-in 0.3s ease 0.25s both;
}

/* Two-phase entity exit: content fades out, then space collapses */
@keyframes entity-slide-close {
  from {
    grid-template-rows: 1fr;
  }
  to {
    grid-template-rows: 0fr;
  }
}

@keyframes entity-fade-out {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.entity-exit {
  display: grid;
  animation: entity-slide-close 0.4s cubic-bezier(0.5, 0, 0.84, 0) 0.15s both;
}

.entity-exit > * {
  overflow: hidden;
  min-height: 0;
  animation: entity-fade-out 0.2s ease both;
}

.swap-btn {
  --btn-top: color-mix(in oklch, var(--color-button-primary-bg) 85%, white 15%);
  --btn-bottom: color-mix(
    in oklch,
    var(--color-button-primary-bg) 85%,
    black 15%
  );
  background: linear-gradient(
    180deg,
    var(--btn-top) 0%,
    var(--color-button-primary-bg) 52%,
    var(--btn-bottom) 100%
  );
  border: 1px solid
    color-mix(in oklch, var(--color-button-primary-bg) 70%, black 30%);
  cursor: pointer;
  transition:
    background 0.2s ease,
    border-color 0.2s ease,
    box-shadow 0.2s ease;
}

.swap-btn:hover {
  --btn-top-hover: color-mix(
    in oklch,
    var(--color-button-primary-bg-hover) 85%,
    white 15%
  );
  --btn-bottom-hover: color-mix(
    in oklch,
    var(--color-button-primary-bg-hover) 85%,
    black 15%
  );
  background: linear-gradient(
    180deg,
    var(--btn-top-hover) 0%,
    var(--color-button-primary-bg-hover) 52%,
    var(--btn-bottom-hover) 100%
  );
  border-color: var(--color-border-strong);
}

.swap-btn:active {
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.2),
    inset 0 -1px 0 rgba(0, 0, 0, 0.24),
    0 1px 3px rgba(0, 0, 0, 0.2);
}
